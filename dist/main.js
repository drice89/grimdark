/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/bullets.js":
/*!************************!*\
  !*** ./src/bullets.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./character */ \"./src/character.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\n\n\nclass Bullet extends _character__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(direction) {\n    super()\n    this.valid = true;\n    this.position = null,\n    this.tileFrom = null,\n    this.tileTo = null,\n    this.sprite = {},\n    this.position = null,\n    this.delayMove = 100,\n    this.facing = direction,\n    this.dimensions = direction === \"LEFT\" || direction === \"RIGHT\" ? [12, 3] :\n      direction === \"UP\" || direction === \"DOWN\" ? [3, 12] : [9, 10],\n    this.bulletSprites = {\n      \"UP\": [{x:212, y:210, w:3, h:12}, {x:212, y:210, w:3, h:12}],\n      \"DOWN\": [{x:212, y:210, w:3, h:12}, {x:212, y:210, w:3, h:12}],\n      \"LEFT\": [{x:18, y:213, w:12, h:3}, {x:18, y:213, w:12, h:3}],\n      \"RIGHT\": [{x:18, y:213, w:12, h:3}, {x:18, y:213, w:12, h:3}],\n      \"UPLEFT\": [{x:116, y:209, w:9, h:10}, {x:116, y:209, w:9, h:10}],\n      \"UPRIGHT\": [{x:305, y:209, w:9, h:10}, {x:305, y:209, w:9, h:10}],\n      \"DOWNLEFT\": [{x:305, y:209, w:9, h:10}, {x:305, y:209, w:9, h:10}],\n      \"DOWNRIGHT\": [{x:116, y:209, w:9, h:10}, {x:116, y:209, w:9, h:10}],\n    },\n    this.movementAnimation = \"false\"\n  }\n\n  detectCollision(monsters){\n    const monsterCurrentPosition = monsters[this.currentPosition()]\n\n    if (monsterCurrentPosition) {\n      monsterCurrentPosition.alive = false\n      return true\n    }\n\n    return false\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Bullet);\n\n//# sourceURL=webpack:///./src/bullets.js?");

/***/ }),

/***/ "./src/character.js":
/*!**************************!*\
  !*** ./src/character.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\n////Character\nclass Character {\n  constructor() {\n    this.tileFrom = [62,62];\n    this.tileTo = [62,62];\n    //also affects movement speed \n    this.timeMoved = 0;\n    //this is the dimension of the character sprite\n    this.dimensions = [48, 48];\n    this.position = [2976,2976]\n    //movement speed\n    this.delayMove = 300;\n    this.facing = \"DOWN\"\n    this.keyCard = false\n    this.playerSprites = {\n      \"UP\": [{x:96, y:0, w:47, h:47}, {x:96, y:48, w:47, h:47}],\n      \"DOWN\": [{x:48, y:0, w:47, h:47}, {x:48, y:48, w:47, h:47}],\n      \"LEFT\": [{x:144, y:0, w:47, h:47}, {x:144, y:48, w:47, h:47}],\n      \"RIGHT\": [{x:0, y:0, w:47, h:47}, {x:0, y:48, w:47, h:47}],\n      \"UPLEFT\": [{x:96, y:0, w:47, h:47}, {x:96, y:48, w:47, h:47}],\n      \"UPRIGHT\": [{x:96, y:0, w:47, h:47}, {x:96, y:48, w:47, h:47}],\n      \"DOWNLEFT\": [{x:48, y:0, w:47, h:47}, {x:48, y:48, w:47, h:47}],\n      \"DOWNRIGHT\": [{x:48, y:0, w:47, h:47}, {x:48, y:48, w:47, h:47}],\n    }\n    this.movementAnimation = \"false\"\n    this.rateOfFire = 150\n    this.lastBulletFired = 0\n  }\n  \n  currentPosition() {\n    return (this.tileFrom[0] + (mapW * this.tileFrom[1]))\n  }\n  \n  toIndex(x,y) {\n    return ((y*mapW) + x);\n  }\n  \n  isValidMove(gameMap, direction = _util__WEBPACK_IMPORTED_MODULE_0__[\"DIRECTIONS\"][this.facing]) {\n    const x = this.tileFrom[0] + direction.DIRS[0];\n    const y = this.tileFrom[1] + direction.DIRS[1]\n    if (x < 0 || x > (mapW-1) || y < 0 || y > mapH-1) return false;\n    if(_util__WEBPACK_IMPORTED_MODULE_0__[\"TILETYPES\"][gameMap.map[this.toIndex(x,y)]].floor !== _util__WEBPACK_IMPORTED_MODULE_0__[\"FLOORTYPES\"].open) return false;\n    return true\n  }\n\n  // lossCondition(monsters) {\n  //   const monsterInTile = monsters[this.toIndex(...this.tileTo)] || monsters[this.toIndex(...this.tileFrom)]\n  //   if (monsterInTile) {\n  //     return (monsterInTile.position === this.position)\n  //   }\n  // }\n}\n//this function is dependent upon globals - maybe do tileW = this.tileW.bind(this)\nCharacter.prototype.placeAt = function(x,y) {\n  this.tileFrom = [x, y];\n  this.tileTo = [x, y];\n  this.position = [\n    (\n        //multiply row tile value * size of tile\n        //add tile width - the xdimension /2 in order to center horizontally\n      (tileW * x) + ((tileW - this.dimensions[0])/2)\n    ),(\n      (tileH * y) + ((tileH - this.dimensions[1])/2)\n      )\n  ]\n}\n//this function is dependent upon globals\nCharacter.prototype.processMovement = function(time) {\n  if (this.tileFrom[0] === this.tileTo[0] && this.tileFrom[1] === this.tileTo[1]) {\n    return false\n  } \n  if((time - this.timeMoved) >= this.delayMove) {\n    this.placeAt(this.tileTo[0], this.tileTo[1])\n    this.movementAnimation = !this.movementAnimation\n  } else {\n    //below block gives pixel value starting position\n    this.position[0] = (this.tileFrom[0] * tileW) + ((tileW - this.dimensions[0])/2);\n    this.position[1] = (this.tileFrom[1] * tileH) + ((tileH - this.dimensions[1])/2);\n\n    //check if char is moving horizontally\n    if(this.tileTo[0] !== this.tileFrom[0]) {\n      const diff = (tileW/this.delayMove) * (time - this.timeMoved);\n      this.position[0] += (this.tileTo[0] < this.tileFrom[0] ? 0 - diff : diff)\n\n    }\n    //check if char is moving vertically\n    if(this.tileTo[1] != this.tileFrom[1]){\n\t\t\tvar diff = (tileH / this.delayMove) * (time - this.timeMoved);\n      this.position[1]+= (this.tileTo[1]<this.tileFrom[1] ? 0 - diff : diff);\n\t\t}\n    \n    this.position[0] = Math.round(this.position[0])\n    this.position[1] = Math.round(this.position[1])\n  }\n\n  return true\n}\n//this function is dependent upon globals - needs to go in the map\n\n\nCharacter.prototype.move = function(direction, time) {\n  this.tileTo[0] += direction.DIRS[0]\n  this.tileTo[1] += direction.DIRS[1]\n  this.timeMoved = time\n  this.facing = direction.FACING\n  //console.log(\"tile to\", this.tileTo[0], this.tileTo[1], direction)\n\n}\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Character);\n\n\n//# sourceURL=webpack:///./src/character.js?");

/***/ }),

/***/ "./src/game.js":
/*!*********************!*\
  !*** ./src/game.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./view */ \"./src/view.js\");\n/* harmony import */ var _character__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./character */ \"./src/character.js\");\n/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map */ \"./src/map.js\");\n/* harmony import */ var _levels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./levels */ \"./src/levels.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n/* harmony import */ var _monsters__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./monsters */ \"./src/monsters.js\");\n/* harmony import */ var _bullets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./bullets */ \"./src/bullets.js\");\n\n\n\n\n\n\n\n\nclass Game {\n  constructor(viewportDimensions, level) {\n    this.gameStatus = \"active\"\n    this.level = level\n    this.gameMap = new _map__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_levels__WEBPACK_IMPORTED_MODULE_3__[\"levelOne\"])\n    this.player = new _character__WEBPACK_IMPORTED_MODULE_1__[\"default\"]()\n    this.viewport = new _view__WEBPACK_IMPORTED_MODULE_0__[\"default\"](viewportDimensions)\n    this.bullets = []\n    this.keysDown = {\n      32: false, //spacebar\n      37: false, //left arrow\n      39: false, //right arrow\n      38: false, //up arrow\n      40: false, //down arrow\n    }\n    this.monsters = {}\n    this.spawnRate = 6\n    this.maxSpawns = 500\n    this.currentSpawns = 0\n    this.score = 0\n    this.key = null\n    this.drawGame = () => {\n\n    if(ctx === null) return;\n    if(!tilesetLoaded || !monsterSetLoaded || !fxSetLoaded) {\n      requestAnimationFrame(this.drawGame)\n      return;\n    }\n    \n    const currentFrameTime = Date.now()\n    const timeElapsed = currentFrameTime - lastFrameTime\n\n    let sec = Math.floor(Date.now()/1000);\n    if (sec !== currentSecond) {\n      currentSecond = sec;\n      framesLastSecond = frameCount;\n      frameCount = 1\n    } else {\n      frameCount ++\n    }\n\n    //////// generate bullet\n    if(this.keysDown[32] && (currentFrameTime - this.player.lastBulletFired) > this.player.rateOfFire) {\n\n      let bullet = new _bullets__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this.player.facing)\n      bullet.placeAt(this.player.tileFrom[0] + (_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"][bullet.facing].DIRS[0]), this.player.tileFrom[1] + (_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"][bullet.facing].DIRS[1]))\n      this.bullets.push(bullet)\n      this.player.lastBulletFired = currentFrameTime\n    }\n\n    this.viewport.update(this.player.position[0] + (this.player.dimensions[0]/2), \n    this.player.position[1] + (this.player.dimensions[1]/2))\n    this.renderViewportImage()\n    this.renderMap()\n    this.moveAndRenderBullets(currentFrameTime)\n    //// generate monster\n    if (!(sec%this.spawnRate) && this.currentSpawns < this.maxSpawns) this.placeMonster(_util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"],_util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])\n  \n    //Player movement//////////////////////////////////////////////////////\n    if (!this.player.processMovement(currentFrameTime)) {\n      if((this.keysDown[37] && this.keysDown[39]) || (this.keysDown[38] && this.keysDown[40])) {\n        //do nothing\n        //prevent screen stuttering\n      }\n      //Left + up arrow\n      else if ((this.keysDown[37] && this.keysDown[38]) && this.isValidMove(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].UPLEFT, _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"], _util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])) {\n        this.player.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].UPLEFT, currentFrameTime)\n      }\n      //Left + down arrow\n      else if ((this.keysDown[37] && this.keysDown[40]) && this.isValidMove(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].DOWNLEFT, _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"], _util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])) {\n        this.player.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].DOWNLEFT, currentFrameTime)\n      }\n      //right + up arrow\n      else if ((this.keysDown[39] && this.keysDown[38]) && this.isValidMove(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].UPRIGHT, _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"], _util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])) {\n        this.player.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].UPRIGHT, currentFrameTime)\n      }\n      //right + down arrow\n      else if ((this.keysDown[39] && this.keysDown[40]) && this.isValidMove(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].DOWNRIGHT, _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"], _util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])) {\n        this.player.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].DOWNRIGHT, currentFrameTime)\n      }\n      //up arrow\n      else if (this.keysDown[38] && this.isValidMove(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].UP, _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"], _util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])) {\n        this.player.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].UP, currentFrameTime)  \n      }\n      //Down arrow\n      else if (this.keysDown[40] && this.isValidMove(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].DOWN, _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"], _util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])) {\n        this.player.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].DOWN, currentFrameTime)  \n      }\n      //Left arrow\n      else if (this.keysDown[37] && this.isValidMove(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].LEFT, _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"], _util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])) {\n        this.player.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].LEFT, currentFrameTime)  \n      }\n      //right arrow\n      else if (this.keysDown[39] && this.isValidMove(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].RIGHT, _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"], _util__WEBPACK_IMPORTED_MODULE_4__[\"FLOORTYPES\"])) {\n        this.player.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"].RIGHT, currentFrameTime)\n      }\n      //check to see if player is moving\n      if((this.player.tileFrom[0] !== this.player.tileTo[0]) || (this.player.tileFrom[1] !== this.player.tileTo[1])){\n        this.player.timeMoved = currentFrameTime\n      }\n    }\n    ////////////////////////////////////////////////////////////////\n\n    //monsters\n    \n    let monsterMap = {}\n    for(let monster in this.monsters) {\n      monster = this.monsters[monster]\n\n      //if this is true then do not render\n      if (!monster.alive) {\n        if (!this.key && !this.player.keyCard) {\n          const randomlyDropKeyAtDeathPosition = monster.dropKey()\n          if (randomlyDropKeyAtDeathPosition) {\n            this.key = randomlyDropKeyAtDeathPosition\n          }\n        }\n        continue;\n      }\n\n      if(!monster.processMovement(currentFrameTime)) {\n        \n        let direction = _util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"][monster.determineDirection(this.player.position)]\n        //Loss condition here - if direction is blank then we know the monster is at the same position as the player\n        if (!direction) {\n          window.ctx.font = \"bold 70pt 'Creepster'\";\n          ctx.fillText(\"GAME OVER\", 215, 370, 473, 171)\n          //ctx.drawImage(window.gameOver, 163.5, 340, 473, 171)\n          music.pause()\n          this.gameStatus = \"loss\"\n          return this.gameStatus;\n        }\n        let i = 2\n        while(!monster.isValidMonsterMove(this.gameMap, direction, this.monsters, monsterMap) && i > 0) {\n          //make 4 attempts to change direction\n          direction = _util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"][_monsters__WEBPACK_IMPORTED_MODULE_5__[\"default\"].resolveCollision(direction)]\n          i -= 1\n\n        }\n        if(i > 0 ) monster.move(direction, currentFrameTime)\n\n      }\n      this.renderMonster(monster);\n      //might be redundant\n      if (monster.alive) monsterMap[this.toIndex(...monster.tileTo)] = monster;\n    }\n    this.monsters = monsterMap;\n    //render and pick up key //\n    if (this.key) this.renderKey();\n    if (this.key && (this.toIndex(this.player.tileFrom[0], this.player.tileFrom[1]) === Math.floor(this.toIndex(this.key[0], this.key[1])))) {\n      this.player.keyCard = true;\n      this.key = null\n    }\n    //////////////////////////\n    this.renderPlayer();\n    this.renderHud(framesLastSecond);\n    lastFrameTime = currentFrameTime;\n    //check for win condition\n    if (this.player.keyCard && _map__WEBPACK_IMPORTED_MODULE_2__[\"default\"].levelComplete(this.toIndex(this.player.tileTo[0], this.player.tileTo[1]), this.gameMap.map)) {\n      this.gameStatus = \"win\"\n      window.ctx.font = \"bold 60pt 'Creepster'\";\n      window.ctx.fillText(\"LEVEL COMPLETED!\", 170, 340, 473, 171)\n      return this.gameStatus;\n    }\n    requestAnimationFrame(this.drawGame);\n   }\n  }\n\n\n  increaseScore() {\n    this.currentSpawns -= 1\n    this.score += 1\n  }\n\n  renderPlayer() {\n    let spriteIndex = (this.player.movementAnimation) ? 0 : 1\n    window.ctx.drawImage(window.monsterSet, this.player.playerSprites[this.player.facing][spriteIndex].x, this.player.playerSprites[this.player.facing][spriteIndex].y, this.player.playerSprites[this.player.facing][spriteIndex].w, this.player.playerSprites[this.player.facing][spriteIndex].h,  (this.viewport.offset[0] + this.player.position[0]), (this.viewport.offset[1] + this.player.position[1]), this.player.dimensions[0], this.player.dimensions[1]);\n  }\n  renderMonster(monster) {\n    let spriteIndex = (monster.movementAnimation) ? 0 : 1\n    window.ctx.drawImage(window.monsterSet, monster.monsterSprites[monster.facing][spriteIndex].x, monster.monsterSprites[monster.facing][spriteIndex].y, monster.monsterSprites[monster.facing][spriteIndex].w, monster.monsterSprites[monster.facing][spriteIndex].h, (this.viewport.offset[0] + monster.position[0]), (this.viewport.offset[1]+ monster.position[1]), monster.dimensions[0], monster.dimensions[1]);\n  }\n\n\n  renderViewportImage() {\n     window.ctx.drawImage(window.spaceImage, 0, 0, 800, 800,  0, 0, this.viewport.screen[0], this.viewport.screen[1]);\n  }\n\n  toIndex(x,y) {\n    return ((y*mapW) + x);\n  }\n\n  //This function should be moved into the map\n  isValidMove(direction, TILETYPES, FLOORTYPES) {\n    const x = this.player.tileFrom[0] + direction.DIRS[0];\n    const y = this.player.tileFrom[1] + direction.DIRS[1]\n    if(x < 0 || x > (mapW-1) || y < 0 || y > mapH-1) return false;\n    if(TILETYPES[this.gameMap.map[this.toIndex(x,y)]].floor !== FLOORTYPES.open) return false;\n    return true;\n  }\n\n  // isValidMonsterMove(monster, direction, TILETYPES, FLOORTYPES) {\n  //   const x = monster.tileFrom[0] + direction.DIRS[0];\n  //   const y = monster.tileFrom[1] + direction.DIRS[1];\n  //   if(x < 0 || x > (mapW-1) || y < 0 || y > mapH-1) return false;\n  //   if(TILETYPES[this.gameMap.map[this.toIndex(x,y)]].floor !== FLOORTYPES.open) return false;\n  //   if (this.monsters[this.gameMap.map[this.toIndex(x,y)]]) return false;\n  //   return true;\n  // }\n  \n\n  renderMap() {\n    for(let y = this.viewport.startTile[1]; y <= this.viewport.endTile[1]; y++) {\n      for(let x = this.viewport.startTile[0]; x <= this.viewport.endTile[0]; x++) {\n        const index = this.toIndex(x,y)\n        if (this.gameMap.map[index] === 100 && this.player.keyCard) this.gameMap.map[index] = 101\n        const tile = _util__WEBPACK_IMPORTED_MODULE_4__[\"TILETYPES\"][this.gameMap.map[index]];\n        const spriteIndex = tile.name === \"wall\" && this.gameMap.map[index + 64] ? 1 : 0\n        try {\n          window.ctx.drawImage(window.tileset, tile.sprite[spriteIndex].x, tile.sprite[spriteIndex].y, tile.sprite[spriteIndex].w, tile.sprite[spriteIndex].h, \n            (this.viewport.offset[0] + (x * tileW)), (this.viewport.offset[1] + (y*tileH)), tileW, tileH);\n          } catch(err) {\n            console.log(err + \" at map indexÂ \" + this.gameMap.map[index + 64])\n          }\n      }\n    }\n  }\n\n  renderHud(framesLastSecond) {\n    window.ctx.drawImage(window.interface, 574, 285, 145, 60, 10, 10, 130, 100);\n    window.ctx.fillStyle = \"#980598\";\n    window.ctx.fillText(\"FPS: \" + framesLastSecond, 45, 35);\n    window.ctx.fillText(\"SCORE: \" + this.score, 45, 60);\n    window.ctx.fillText(`LEVEL: ${this.level}`, 45, 85);\n    //This is controling the shadow around the sprites as well\n    window.ctx.shadowOffestX = 1\n    window.ctx.shadowOffestY = 1\n    window.ctx.shadowColor = \"#980598\";\n    window.ctx.shadowBlur = 1;\n\n  }\n\n  placeMonster(TILETYPES,FLOORTYPES) {\n    const playerPosition = this.player.position\n    const newMonsterPosition = () => [Math.floor(Math.random() * mapH - 1) + 1, Math.floor(Math.random() * mapW - 1) + 1]\n    const validateMonsterPlacement = (position) => {\n      if (Math.abs(position[0] - playerPosition[0]) <= 3 || Math.abs(position[1] - playerPosition[1]) <= 3) return false\n      if(TILETYPES[this.gameMap.map[this.toIndex(...position)]].floor !== FLOORTYPES.open) return false\n      return true\n    }\n    let monsterPosition = newMonsterPosition()\n    while (!validateMonsterPlacement(monsterPosition)) {\n      monsterPosition = newMonsterPosition()\n    }\n    const monster = new _monsters__WEBPACK_IMPORTED_MODULE_5__[\"default\"](this.level)\n    monster.placeAt(...monsterPosition)\n    this.monsters[this.toIndex(...monsterPosition)] = monster\n    this.currentSpawns += 1\n  }\n  \n  moveAndRenderBullets(currentFrameTime) {\n  let bullets = []\n  \n    if (this.bullets.length > 0) {\n     for(let bullet of this.bullets) {\n  \n      if (bullet.detectCollision(this.monsters)) this.increaseScore()\n\n      if(bullet.isValidMove(this.gameMap)) {\n        if(!bullet.processMovement(currentFrameTime)) {\n          bullet.move(_util__WEBPACK_IMPORTED_MODULE_4__[\"DIRECTIONS\"][bullet.facing], currentFrameTime)\n        }\n        bullets.push(bullet)\n    }\n\n  \n      let spriteIndex = (bullet.movementAnimation) ? 0 : 1\n      window.ctx.drawImage(window.fxSet, bullet.bulletSprites[bullet.facing][spriteIndex].x, bullet.bulletSprites[bullet.facing][spriteIndex].y, bullet.bulletSprites[bullet.facing][spriteIndex].w, bullet.bulletSprites[bullet.facing][spriteIndex].h, (this.viewport.offset[0] + bullet.position[0]), (this.viewport.offset[1]+ bullet.position[1]), bullet.dimensions[0], bullet.dimensions[1]);\n\n     }\n    } \n   this.bullets = bullets\n  }\n\n  renderKey() {\n    const [x, y] = this.key\n    const pos = [x * tileW, y * tileH]\n    window.ctx.drawImage(window.items, 390, 0, 48, 48, (this.viewport.offset[0] + pos[0]), (this.viewport.offset[1] + pos[1]), 48, 48)\n  }\n\n}\n  \n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Game);\n\n\n\n\n//# sourceURL=webpack:///./src/game.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game */ \"./src/game.js\");\n/* harmony import */ var _pregame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pregame */ \"./src/pregame.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\n\n\n\nwindow.tileW = 48\nwindow.tileH = 48;\nwindow.mapW = 64;\nwindow.mapH = 64;\n\nwindow.tileset = new Image();\nwindow.monsterSet = new Image();\nwindow.fxSet = new Image();\nwindow.spaceImage = new Image();\nwindow.gameOver = new Image();\nwindow.spaceSet = new Image();\nwindow.interface = new Image();\nwindow.items = new Image();\n\nwindow.ctx = null\nwindow.tilesetLoaded = false \nwindow.monsterSetLoaded = false; \nwindow.fxSetLoaded = false;\nwindow.itemsLoaded = false;\nwindow.currentSecond = 0, \nwindow.frameCount = 0, \nwindow.framesLastSecond = 0;\nwindow.lastFrameTime = 0;\nwindow.level = 1\nwindow.gameStatus = \"active\"\nwindow.music = new Audio(_util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].hootsforce)\n\n\n\nwindow.onload = function() {\n\n  const notifyError = function(e) {\n    window.ctx = null;\n    alert(\"tileset load error\", e.message);\n  }\n  \n  window.tileset.onerror = notifyError\n  window.monsterSet.onerror = notifyError\n  window.fxSet.onerror = notifyError\n  window.spaceImage.onerror = notifyError\n  window.interface.onerror = notifyError\n  window.interface.onerror = notifyError\n  \n  window.tileset.onload = function() { window.tilesetLoaded = true };\n  window.monsterSet.onload = function() { window.monsterSetLoaded = true }\n  window.fxSet.onload = function() { window.fxSetLoaded = true }\n  window.items.onload = function() { window.itemsLoaded = true }\n  //revisit \n  window.tileset.src = _util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].tilesetUrl;\n  window.monsterSet.src = _util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].characterTilesetUrl;\n  window.fxSet.src = _util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].fxSetUrl;\n  window.spaceImage.src = _util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].spaceImageUrl;\n  window.gameOver.src = _util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].gameOver;\n  window.spaceSet.src = _util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].spaceSet\n  window.interface.src = _util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].interfaceUrl\n  window.items.src = _util__WEBPACK_IMPORTED_MODULE_2__[\"ASSETURLS\"].itemsUrl\n  \n};\n\ndocument.addEventListener(\"DOMContentLoaded\", () => { \n  const pregameElement = document.getElementById(\"pregame\")\n  window.ctx = pregameElement.getContext('2d');\n  const pregame = new _pregame__WEBPACK_IMPORTED_MODULE_1__[\"default\"]()\n  requestAnimationFrame(pregame.drawPregame)\n  const start = document.getElementById(\"start\")\n\n  start.addEventListener( \"click\", () =>{\n    document.getElementById(\"welcome\").setAttribute(\"class\", \"hidden\")\n    start.setAttribute(\"class\", \"hidden\")\n    document.getElementById(\"game\").setAttribute(\"class\", \"show\")\n    const play = document.getElementById(\"play\")\n    const pause = document.getElementById(\"pause\")\n    const volume = document.getElementById(\"volume\")\n    \n    music.volume = .25\n    music.play();\n\n    play.addEventListener(\"click\", () =>{\n      if (music.paused) {\n        music.play()\n      }\n    })\n\n    pause.addEventListener(\"click\", () => {\n      if (!music.paused) {\n        music.pause()\n      }\n    })\n\n    volume.addEventListener(\"change\", () => {\n      music.volume = (volume.value * .01)\n    })\n\n    const game = document.getElementById(\"game\")\n    window.ctx = game.getContext('2d');\n    let newGame = new _game__WEBPACK_IMPORTED_MODULE_0__[\"default\"]([game.width, game.height], window.level)\n    window.ctx.font = \"bold 16pt 'Creepster'\";\n    \n    window.addEventListener(\"keydown\", (e) => {\n      if ((e.keyCode >= 37 && e.keyCode <= 40) || e.keyCode === 32) {\n        newGame.keysDown[e.keyCode] = true;\n      }\n    });\n    window.addEventListener(\"keyup\", (e) => {\n      if ((e.keyCode >= 37 && e.keyCode <= 40) || e.keyCode === 32) {\n        newGame.keysDown[e.keyCode] = false;\n      }\n    });\n    \n    pregame.gameStart = true;\n    function handleGameResults(res) {\n      switch (res) {\n        case \"win\":\n          window.level++\n          start.innerText = \"Next Level\"\n          start.setAttribute(\"class\", \"action-button\")\n          break;\n        case \"loss\": \n          window.level = 1\n          start.innerText = \"Replay\"\n          start.setAttribute(\"class\", \"action-button\")\n          break;\n        case \"endgame\":\n          window.level = 1\n          start.innerText = \"You Won! Thanks for Playing! Click to play again!\"\n          start.setAttribute(\"class\", \"action-button\")\n          break;\n      }\n    }\n\n    requestAnimationFrame(newGame.drawGame)\n\n    const checkStatus = setInterval( function() {\n      if(newGame.gameStatus !== \"active\") {\n        handleGameResults(newGame.gameStatus)\n        clearInterval(checkStatus)\n      }\n    }, 17)\n\n  })\n  \n});  \n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/levels.js":
/*!***********************!*\
  !*** ./src/levels.js ***!
  \***********************/
/*! exports provided: levelOne */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"levelOne\", function() { return levelOne; });\nconst levelOne = [\n        0,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,0,0,1,1,0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,\n        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];\n  \n\n//# sourceURL=webpack:///./src/levels.js?");

/***/ }),

/***/ "./src/map.js":
/*!********************!*\
  !*** ./src/map.js ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Map {\n  constructor(map) {\n    this.map = this.randomizeMap(map)\n  }\n\n  ramdomizer(num, i){\n    if(num >= 1 && num !== 100 && num !== 101) {\n      const tile = Math.floor(Math.random() * 100000)\n      \n      const keycard = 99852;\n      const item = 99751;\n      const object = 99125;\n      const rearWallDecoration = 91000\n      \n      //order matters\n      if(tile >= keycard) {\n        return 2\n      }\n\n      if(tile >= item) return 3\n      if(tile >= object ) return 4\n      if(tile >= rearWallDecoration && (((i - (i%mapW))/mapW)%16) === 1) return 5\n      return 1\n    } else {\n      return num;\n    }\n  }\n\n  multiRandomizer() {\n    const thing = Math.floor(Math.random()* 10) + 40\n    if(thing > 7) return 41\n    if(thing > 4) return 42\n    return 43\n  }\n\n  randomizeMap(arr) {\n    let multiItem = false\n    let lastMulti = null\n    return arr.map((tile, i) => {\n      if (multiItem) {\n        multiItem = false\n        return lastMulti\n      }\n      const res = this.ramdomizer(tile, i)\n      if(res !== 4) return res;\n      multiItem = true;\n      lastMulti = this.multiRandomizer(); \n      return lastMulti;\n      })\n  }\n\n  static levelComplete(playerCurrentMapIndex, gameMap) {\n    return gameMap[playerCurrentMapIndex] === 101\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Map);\n\n//# sourceURL=webpack:///./src/map.js?");

/***/ }),

/***/ "./src/monsters.js":
/*!*************************!*\
  !*** ./src/monsters.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _character__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./character */ \"./src/character.js\");\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\n\n\nclass Monster extends _character__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor(level) {\n    super()\n    this.tileFrom = null;\n    this.tileTo = null;\n    //also affects movement speed \n    this.timeMoved = 0;\n    //this is the dimension of the character sprite\n    this.dimensions = [48, 48];\n    this.position = null\n    this.bulletEnteredTile = false;\n    this.alive = true;\n    //movement speed\n    this.delayMove = 450 * ((11 - level)*.1);\n    this.facing = \"DOWN\"\n    this.monsterSprites = {\n      \"UP\": [{x:96, y:576, w:47, h:47}, {x:96, y:624, w:47, h:47}],\n      \"DOWN\": [{x:48, y:576, w:47, h:47}, {x:48, y:624, w:47, h:47}],\n      \"LEFT\": [{x:144, y:576, w:47, h:47}, {x:144, y:624, w:47, h:47}],\n      \"RIGHT\": [{x:0, y:576, w:47, h:47}, {x:0, y:624, w:47, h:47}],\n      \"UPLEFT\": [{x:144, y:576, w:47, h:47}, {x:144, y:624, w:47, h:47}],\n      \"UPRIGHT\": [{x:0, y:576, w:47, h:47}, {x:0, y:624, w:47, h:47}],\n      \"DOWNLEFT\": [{x:144, y:576, w:47, h:47}, {x:144, y:624, w:47, h:47}],\n      \"DOWNRIGHT\": [{x:0, y:576, w:47, h:47}, {x:0, y:624, w:47, h:47}],\n    }\n    this.movementAnimation = \"false\"\n  }\n determineDirection(playerPosition) {\n   \n    let x = !(playerPosition[0] - this.position[0]) ? \"\" : Math.abs(playerPosition[0] - (this.position[0] - 1)) < Math.abs(playerPosition[0] - (this.position[0] + 1)) \n            ? \"LEFT\" : \"RIGHT\"\n    let y = !(playerPosition[1] - this.position[1]) ? \"\" : Math.abs(playerPosition[1] - (this.position[1] - 1)) < Math.abs(playerPosition[1] - (this.position[1] + 1)) \n            ? \"UP\" : \"DOWN\";\n\n    return y + x\n }\n\n  isValidMonsterMove(gameMap, direction = _util__WEBPACK_IMPORTED_MODULE_1__[\"DIRECTIONS\"][this.facing], monstersLast, monstersNext) {\n    const x = this.tileFrom[0] + direction.DIRS[0];\n    const y = this.tileFrom[1] + direction.DIRS[1]\n    if (x < 0 || x > (mapW-1) || y < 0 || y > mapH-1) return false;\n    if(_util__WEBPACK_IMPORTED_MODULE_1__[\"TILETYPES\"][gameMap.map[this.toIndex(x,y)]].floor !== _util__WEBPACK_IMPORTED_MODULE_1__[\"FLOORTYPES\"].open) return false;\n    if (monstersLast[this.toIndex(x,y)] || monstersNext[this.toIndex(x,y)]) {\n      return false;\n    }\n    return true\n  }\n\n  dropKey() {\n    const int = Math.random()\n    if (int > .985) {\n      return this.tileFrom\n    } else {\n      return null\n    }\n  }\n\n  static resolveCollision(direction) {\n    let randomDirection = () => {\n      return Math.floor(Math.random() * 8) + 1\n    }\n    const directions = {\n      1: \"UP\",\n      2: \"UPRIGHT\",\n      3: \"UPLEFT\",\n      4: \"DOWNLEFT\",\n      5: \"DOWNRIGHT\",\n      6: \"RIGHT\",\n      7: \"DOWN\",\n      8: \"LEFT\",\n    }\n\n    let newDirection = directions[randomDirection()]\n    \n    while (newDirection === direction.FACING) {\n      newDirection = directions[randomDirection()]\n    }\n\n    return newDirection\n    \n  }\n\n  \n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Monster);\n\n\n\n//# sourceURL=webpack:///./src/monsters.js?");

/***/ }),

/***/ "./src/pregame.js":
/*!************************!*\
  !*** ./src/pregame.js ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Pregame {\n  constructor() {\n    this.ship = {x:240, y:334, w:48, h:49};\n    this.shipPositionX = 400;\n    this.shipPositionY = [315, 312];\n    this.gameStart = false\n    this.drawPregame = () => {\n      window.ctx.clearRect(0,0,800,800)\n      if (this.gameStart) return;\n      let sec = Math.floor(Date.now()/1000);\n      window.ctx.drawImage(window.spaceSet, this.ship.x, this.ship.y, this.ship.w, this.ship.h, this.shipPositionX, !(sec%2) ? this.shipPositionY[0] : this.shipPositionY[1], 48, 48)\n      requestAnimationFrame(this.drawPregame);\n    }\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Pregame);\n\n//# sourceURL=webpack:///./src/pregame.js?");

/***/ }),

/***/ "./src/util.js":
/*!*********************!*\
  !*** ./src/util.js ***!
  \*********************/
/*! exports provided: FLOORTYPES, TILETYPES, DIRECTIONS, ASSETURLS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FLOORTYPES\", function() { return FLOORTYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TILETYPES\", function() { return TILETYPES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DIRECTIONS\", function() { return DIRECTIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ASSETURLS\", function() { return ASSETURLS; });\nconst FLOORTYPES = {\n    solid: 1,\n    open: 0\n  }\nconst TILETYPES = {\n    0: { name: \"wall\", sprite:[{x:288, y:96, w:48, h:48},{x: 0, y: 96, w:48, h:48}], floor: FLOORTYPES.solid },\n    1: { name: \"tile\", sprite:[{x:144, y:432, w:48, h:48}], floor: FLOORTYPES.open },\n    2: { name: \"keycard\", sprite:[{x: 0, y:112, w:16, h:16}], floor: FLOORTYPES.open },\n    3: { name: \"item\", sprite:[{x: 0, y:0, w:16, h:16}], floor: FLOORTYPES.open },\n    41: { name: \"table\", sprite:[{x: 48, y:912, w:47, h:47}], floor: FLOORTYPES.solid },\n    42: { name: \"vat\", sprite:[{x: 144, y:816, w:47, h:47}], floor: FLOORTYPES.solid },\n    43: { name: \"crate\", sprite:[{x: 0, y:816, w:47, h:47}], floor: FLOORTYPES.open },\n    5: { name: \"computer\", sprite:[{x:192, y:816, w:47, h:47}], floor: FLOORTYPES.solid },\n    100: {name: \"closed_door\", sprite: [{x:384, y:911, w:48, h:48}], floor: FLOORTYPES.solid},\n    101: {name: \"open_door\", sprite: [{x:432, y:911, w:48, h:48}], floor: FLOORTYPES.open}\n  }\n\nconst DIRECTIONS = {\n    UP: { DIRS: [0, -1], FACING: \"UP\" },\n    DOWN: { DIRS: [0, 1], FACING: \"DOWN\" },\n    LEFT: { DIRS: [-1, 0], FACING: \"LEFT\" },\n    RIGHT: { DIRS: [1,0], FACING: \"RIGHT\" },\n    UPLEFT: { DIRS: [-1,-1], FACING: \"UPLEFT\" },\n    UPRIGHT: { DIRS: [1, -1], FACING: \"UPRIGHT\" },\n    DOWNLEFT: { DIRS: [-1, 1], FACING: \"DOWNLEFT\" },\n    DOWNRIGHT: { DIRS: [1, 1], FACING: \"DOWNRIGHT\" },\n  }\n\nconst ASSETURLS = {\n  tilesetUrl: \"./assets/tiny_galaxy_world.png\",\n  characterTilesetUrl: \"./assets/tiny_galaxy_monsters.png\",\n  fxSetUrl: \"./assets/tiny_galaxy_fx.png\",\n  spaceImageUrl: \"./assets/space.png\",\n  hootsforce: \"./assets/Gloryhammer-hootsforce.mp3\",\n  gameOver: \"./assets/gameover.png\",\n  spaceSet: \"./assets/tiny_galaxy_space_3x.png\",\n  interfaceUrl: \"./assets/tiny_galaxy_interface_3x.png\",\n  itemsUrl: \"./assets/tiny_galaxy_items_3x.png\"\n} \n\n//# sourceURL=webpack:///./src/util.js?");

/***/ }),

/***/ "./src/view.js":
/*!*********************!*\
  !*** ./src/view.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Viewport {\n  constructor(viewportDimensions) {\n      //dimensions of canvas\n    this.screen = viewportDimensions,\n    //top left tile\n    this.startTile = [0,0],\n    //bottom right tile\n    this.endTile = [0,0],\n    //x and y offeset from the beginning of the screen\n    this.offset = [0,0]\n  }\n  update(px, py) {\n    //px and py are the center of the visible area to the camera\n    //drawing area with/2 - camera horizontal offeset\n    this.offset[0] = Math.floor((this.screen[0]/2) - px);\n    //dawing area height/2 - camera vertical offser\n    this.offset[1] = Math.floor((this.screen[1]/2) - py);\n\n    //this is the x, y value of the tile at the center\n    const tile = [Math.floor(px/tileW), Math.floor(py/tileH)]\n    //based on center tile defined by camera. horizontal value \n    //[first tile X] = [center tile X] - 1 - Round Up(([Canvas width] / 2) / [tile width]); x - 9\n    this.startTile[0] = tile[0] - 1 - Math.ceil((this.screen[0]/2) /tileW);\n    // first tile y = center tile y -  9\n    this.startTile[1] = tile[1] - 1 - Math.ceil((this.screen[1]/2) /tileH);\n    if(this.startTile[0] < 0) this.startTile[0] = 0;\n    if(this.startTile[1] < 0) this.startTile[1] = 0;\n\n    //x + 9\n    this.endTile[0] = tile[0] + 1 + Math.ceil((this.screen[0]/2) /tileW);\n    // y + 9\n    this.endTile[1] = tile[1] + 1 + Math.ceil((this.screen[0]/2) /tileH);\n\n    if(this.endTile[0] >= mapW) this.endTile[0] = mapW - 1;\n    if(this.endTile[1] >= mapH) this.endTile[1] = mapH - 1;\n\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Viewport);\n\n\n//# sourceURL=webpack:///./src/view.js?");

/***/ })

/******/ });